<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
     
    <h:head>
        <title>Selección de Cliente</title>
        <h:outputStylesheet library="css" name="estilos.css"/>
    </h:head>
     
    <h:body>
        <h:form>
            <h:panelGrid columns="15">
                <p:outputLabel value="DNI:" for="dni"/>
                <p:inputText id="dni" styleClass="mayuscula"
                             value="#{clienteSeleccionController.filtro.dni}" 
                             size="10" maxlength="10"/>
                
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <h:outputText value="&lt;br/&gt;" escape="false" />
                
                <p:outputLabel value="Primer apellido:"/>
                <p:inputText id="apellido1"
                             value="#{clienteSeleccionController.filtro.apellido1}" 
                             size="15" maxlength="10"/>
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <h:outputText value="&lt;br/&gt;" escape="false" />
                <h:outputText value="&lt;br/&gt;" escape="false" />
                
                <p:outputLabel value="Segundo apellido:"/>
                <p:inputText id="apellido2"
                             value="#{clienteSeleccionController.filtro.apellido2}" 
                             size="15" maxlength="10"/>

            </h:panelGrid>
            
            <p:separator/>
            <p:commandButton value="Buscar" ajax="false" action="#{clienteSeleccionController.doListar}"/>
            <p:commandButton value="Limpiar" ajax="false" action="#{clienteSeleccionController.doLimpiar}"/>
            
            <!-- Mensajes -->
            <h:panelGroup id="messagePanel" layout="block">
                <p:messages/>
            </h:panelGroup>

            <h:outputText value="&lt;br/&gt;" escape="false" />
            
            <p:dataTable var="item" value="#{clienteSeleccionController.lista}" 
                         paginator="true" rows="10" paginatorPosition="top" emptyMessage="No se han encontrado datos.">
                
                <p:column headerText="Nombre" styleClass="left" width="30%">
                    <h:outputText value="#{item.toString()}"/>
                </p:column>
                
                <p:column headerText="Dni" styleClass="center" width="10%">
                    <h:outputText value="#{item.dni}"/>
                </p:column>
                
                <p:column headerText="Fecha nacimiento" styleClass="center" width="10%">
                    <h:outputText value="#{item.fechaNacimiento}">
                        <f:convertDateTime type="both" pattern="dd/MM/YYYY"/>
                    </h:outputText>
                </p:column>
                
                <p:column headerText="Correo electrónico" styleClass="center" width="25%">
                    <h:outputText value="#{item.email}"/>
                </p:column>

                <p:column headerText="Teléfono" styleClass="center" width="12%">
                    <h:outputText value="#{item.telefono}"/>
                </p:column>
                
                <p:column width="20" styleClass="center">
                    <p:commandButton value="" styleClass="lista-select-btn-img" 
                                     actionListener="#{clienteSeleccionController.doSeleccionar(item)}"/>
                </p:column>
                
            </p:dataTable>
        </h:form>
    </h:body>
     
</html>
